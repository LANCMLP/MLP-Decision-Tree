(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){},,,,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,o,l=a(0),i=a.n(l),r=a(11),c=a.n(r),s=(a(19),a(4)),d=a(5),u=a(7),h=a(6),m=a(8),v=(a(10),a(3)),b=a(2),f=a(1),p=a(12),g=a.n(p),E=(a(20),a(13)),y=function(e){var t=e.title,a=e.changeTitle,n=e.removeNode,o=e.addChild;return i.a.createElement("div",{className:"EditableItem"},i.a.createElement("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css",integrity:"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",crossOrigin:"anonymous"}),i.a.createElement("button",{className:"EditableItem-Button EditableItem-Button_add",onClick:o},"+"),i.a.createElement("button",{className:"EditableItem-Button EditableItem-Button_remove",onClick:n},"x"),i.a.createElement(E.a,{className:"EditableItem-Text enable-select",onChange:function(e){a(e.target.value)},value:t,placeholder:"New Item"}))},j=(a(21),function e(t){var a=t.children,n=Object(v.a)(t,["children"]),o=void 0!==a;return i.a.createElement("li",null,i.a.createElement(g.a,{trigger:i.a.createElement("button",{style:{margin:"3px",padding:"3px",maxWidth:"300px"}},""===n.title?"New Item":n.title),transitionTime:200},i.a.createElement("div",{className:"TreeNode"},i.a.createElement(y,n)),o&&function(t){return i.a.createElement("ul",null,t.map(function(t){var a=t.id,n=Object(v.a)(t,["id"]);return i.a.createElement(e,Object.assign({key:a},n))}))}(a)))}),C=(a(22),function(e){var t=e.onClick;return i.a.createElement("div",{className:"AddButton"},i.a.createElement("button",{className:"AddButton-Inner",onClick:t,value:!0},"+"),i.a.createElement("div",{className:"addbutton-text"},i.a.createElement("div",{id:"editing-instructions"},i.a.createElement("br",null),i.a.createElement("b",null,"Editing Instructions:"),i.a.createElement("br",null),'Click the "+" above to add a new parent node.',i.a.createElement("br",null),'Clicking the "+" next to a tree entry will generate a new child node.',i.a.createElement("br",null),'Clicking the "x" next to a tree entry will delete that entry.',i.a.createElement("br",null),"Each branch of the tree must end with a result code."),i.a.createElement("div",{id:"upload-instructions"},i.a.createElement("br",null),i.a.createElement("b",null,"Upload and Download Instructions:"),i.a.createElement("br",null),'Click "browse" at the top of the page to select a JSON file from your local disk. Then, use "click here to upload" to import it into this page for editing.',i.a.createElement("br",null),'After you are done editing, click "download json" in the top-right corner. This will prompt you to save a copy of your work on your local disk.')))}),O=(a(23),function(e){var t=e.hasSaved,a=e.saveState,n=e.loadState;return i.a.createElement("div",{className:"ControlPanel"},i.a.createElement("button",{className:"ControlPanel-Button ControlPanel-Button_save",onClick:a},"Save"),t?i.a.createElement("button",{className:"ControlPanel-Button ControlPanel-Button_load",onClick:n},"Load"):null)}),k=(a(24),function(e){var t=(JSON.stringify(e).replace('{"data":',"")+"xd").replace("}xd","");return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(t)),download:"MLPTreeData.json"},i.a.createElement("button",{className:"download-button",style:{margin:"10px"}},"Download as MLPTreeData.Json")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("a",{href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(t)),download:"MLPTreeResources.json"},i.a.createElement("button",{className:"download-button",style:{margin:"10px"}},"Download as MLPTreeResources.Json")))}),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={nodes:a.initialized\u0421opy(a.props.data),savedNodes:[],key:1},a.changeTitle=a.changeTitle.bind(Object(f.a)(Object(f.a)(a))),a.addRootElement=a.addRootElement.bind(Object(f.a)(Object(f.a)(a))),a.addChild=a.addChild.bind(Object(f.a)(Object(f.a)(a))),a.removeNode=a.removeNode.bind(Object(f.a)(Object(f.a)(a))),a.saveState=a.saveState.bind(Object(f.a)(Object(f.a)(a))),a.loadState=a.loadState.bind(Object(f.a)(Object(f.a)(a))),a.onTextChange=a.onTextChange.bind(Object(f.a)(Object(f.a)(a))),a.nodesToString=a.nodesToString.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"initialized\u0421opy",value:function(e,t){for(var a=[],n=0;n<e.length;n++){var o=e[n],l=o.children,i=o.title,r=void 0!==l,c=t?"".concat(t,".").concat(n+1):"".concat(n+1);a[n]={children:r?this.initialized\u0421opy(l,c):void 0,changeTitle:this.changeTitle(c),removeNode:this.removeNode(c),addChild:this.addChild(c),id:c,title:i}}return a}},{key:"changeTitle",value:function(e){var t=this;return function(a){e=e.split(".").map(function(e){return parseInt(e)});var n=t.initialized\u0421opy(t.state.nodes),o=n[e[0]-1];if(e.length>1)for(var l=1;l<e.length;l++)o=o.children[e[l]-1];o.title=a,t.setState({nodes:n})}}},{key:"addRootElement",value:function(){var e=this.state.nodes.length?"".concat(this.state.nodes.length+1):"1",t={children:void 0,changeTitle:this.changeTitle(e),removeNode:this.removeNode(e),addChild:this.addChild(e),id:e,title:""},a=[].concat(Object(b.a)(this.state.nodes),[t]);this.setState({nodes:a})}},{key:"addChild",value:function(e){var t=this;return function(){e=e.split(".").map(function(e){return parseInt(e)});var a=t.initialized\u0421opy(t.state.nodes),n=a[e[0]-1];if(e.length>1)for(var o=1;o<e.length;o++)n=n.children[e[o]-1];void 0===n.children&&(n.children=[]),e="".concat(e.join("."),".").concat(n.children.length+1),n.children=[].concat(Object(b.a)(n.children),[{children:void 0,changeTitle:t.changeTitle(e),removeNode:t.removeNode(e),addChild:t.addChild(e),id:e,title:""}]),t.setState({nodes:a})}}},{key:"removeNode",value:function(e){var t=this;return function(){e=e.split(".").map(function(e){return parseInt(e)});var a=t.initialized\u0421opy(t.state.nodes);if(1===e.length){var n=[].concat(Object(b.a)(a.slice(0,[e[0]-1])),Object(b.a)(a.slice(e[0])));t.setState({nodes:t.initialized\u0421opy(n)})}else{for(var o=a[e[0]-1],l=2;l<e.length;l++)o=o.children[e[l-1]-1];var i=e[e.length-1]-1,r=[].concat(Object(b.a)(o.children.slice(0,i)),Object(b.a)(o.children.slice(i+1)));o.children=r,t.setState({nodes:t.initialized\u0421opy(a)})}}}},{key:"saveState",value:function(){this.setState({savedNodes:this.initialized\u0421opy(this.state.nodes)})}},{key:"loadState",value:function(){this.setState({nodes:this.initialized\u0421opy(this.state.savedNodes)})}},{key:"onTextChange",value:function(e){this.setState({nodes:this.initialized\u0421opy(JSON.parse(e.target.value))})}},{key:"nodesToString",value:function(){return JSON.stringify(this.simplify(this.state.nodes),void 0,2)}},{key:"simplify",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a],o=n.children,l=n.title,i=void 0!==o&&o.length>0;t[a]={title:l,children:i?this.simplify(o):void 0}}return t}},{key:"render",value:function(){var e=this.state,t=e.nodes,a=e.savedNodes,n=this.addRootElement,o=this.saveState,l=this.loadState,r=0!==a.length;return i.a.createElement("div",{className:"Tree"},i.a.createElement("div",{className:"Tree-LeftSide"},i.a.createElement(O,{hasSaved:r,saveState:o,loadState:l}),i.a.createElement("ul",{className:"Nodes"},t.map(function(e){var t=e.id,a=Object(v.a)(e,["id"]);return i.a.createElement(j,Object.assign({key:t},a))})),i.a.createElement(C,{onClick:n})),i.a.createElement("div",{className:"download-buttons"},i.a.createElement(k,{data:this.simplify(this.state.nodes)})))}}]),t}(l.Component),w=[{title:"Category 1",children:[{title:"Issue 1A"},{title:"Issue 1B"}]},{title:"Category 2",children:[{title:"Issue 2A"},{title:"Issue 2B"}]}],S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={newData:!1,myData:w,uploadedData:null,updatedKey:1},a.handleFileChosen=function(e){(n=new FileReader).readAsText(e),n.onloadend=a.handleFileRead},a.handleFileRead=function(){var e=n.result;console.log(e),console.log(a.state),a.setState({newData:!0,uploadedData:JSON.parse(e)},function(){console.log(a.state.newData),console.log(a.state)})},a.handleForceUpdate=function(){a.setState({updatedKey:2})},a.handleGetAPI=function(){fetch("https://lancmlp.github.io/MLP-JSON-API/Data/MLPTreeData.json").then(function(e){return e.json()}).then(function(e){console.log(e),o=e,console.log(o);var t=o;console.log(t),console.log(a.state),a.setState({newData:!0,uploadedData:t},function(){console.log(a.state.newData),console.log(a.state)}),a.setState({updatedKey:2})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileChosen(t.target.files[0])}}),i.a.createElement("button",{onClick:this.handleForceUpdate},"Click Here to Upload"),i.a.createElement("button",{style:{marginLeft:"50px"},onClick:this.handleGetAPI},"Click Here to Get Current Tree")),i.a.createElement(N,{key:this.state.updatedKey,data:!0===this.state.newData?this.state.uploadedData:this.state.myData}))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.e9a22a5a.chunk.js.map